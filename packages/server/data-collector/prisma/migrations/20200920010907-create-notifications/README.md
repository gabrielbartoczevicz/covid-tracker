# Migration `20200920010907-create-notifications`

This migration has been generated by Gabriel Bartoczevicz at 9/19/2020, 10:09:07 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "public"."Status" AS ENUM ('HEALED', 'DISCARTED', 'DEAD')

CREATE TABLE "public"."notifications" (
"id" text   NOT NULL ,
"external_id" text   NOT NULL ,
"notification_date" timestamp(3)   NOT NULL ,
"symptoms" text   ,
"cbo" text   ,
"is_health_professional" boolean   NOT NULL DEFAULT false,
"cnes" text   ,
"state" text   NOT NULL ,
"city" text   NOT NULL ,
"birthday" timestamp(3)   NOT NULL ,
"gender" text   NOT NULL ,
"status_date" timestamp(3)   NOT NULL ,
"status" "Status"  ,
"dateCreated" timestamp(3)   NOT NULL DEFAULT CURRENT_TIMESTAMP,
PRIMARY KEY ("id")
)

CREATE UNIQUE INDEX "notifications.external_id_unique" ON "public"."notifications"("external_id")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200920010907-create-notifications
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,36 @@
+// This is your Prisma schema file,
+// learn more about it in the docs: https://pris.ly/d/prisma-schema
+
+datasource db {
+  provider = "postgresql"
+  url = "***"
+}
+
+generator client {
+  provider = "prisma-client-js"
+}
+
+model Notification {
+  id                   String   @id @default(uuid())
+  externalId           String   @unique @map("external_id")
+  notificationDate     DateTime @map("notification_date")
+  symptoms             String?
+  cbo                  String?
+  isHealthProfessional Boolean  @default(false) @map("is_health_professional")
+  cnes                 String?
+  state                String
+  city                 String
+  birthday             DateTime
+  gender               String
+  statusDate           DateTime @map("status_date")
+  status               Status?
+  dateCreated          DateTime @default(now())
+
+  @@map("notifications")
+}
+
+enum Status {
+  HEALED
+  DISCARTED
+  DEAD
+}
```


